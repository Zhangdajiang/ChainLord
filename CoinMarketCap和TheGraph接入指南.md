# ğŸ‰ CoinMarketCap å’Œ The Graph æ¥å…¥å®Œæˆ

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### **1. CoinMarketCap API é›†æˆ**
- âœ… æ·»åŠ  `fetch_coinmarketcap_data()` å‡½æ•°
- âœ… è·å–å¸‚å€¼æ’åã€äº¤æ˜“é‡ã€ç¤¾äº¤åª’ä½“æŒ‡æ ‡
- âœ… è·å–æµé€šé‡ã€æ€»ä¾›åº”é‡ã€å¸‚å€¼å æ¯”
- âœ… é›†æˆåˆ°æ•°æ®ç®¡é“
- âœ… åœ¨ UI ä¸­å±•ç¤º

### **2. The Graph é›†æˆ**
- âœ… æ·»åŠ  `fetch_thegraph_data()` å‡½æ•°
- âœ… é›†æˆ Uniswap V3 å­å›¾ï¼ˆTop 5 æµåŠ¨æ€§æ± ï¼‰
- âœ… é›†æˆ Aave V3 å­å›¾ï¼ˆTop 5 å‚¨å¤‡èµ„äº§ï¼‰
- âœ… ä½¿ç”¨ GraphQL æŸ¥è¯¢
- âœ… é›†æˆåˆ°æ•°æ®ç®¡é“
- âœ… åœ¨ UI ä¸­å±•ç¤º

---

## ğŸ“Š æ–°å¢æ•°æ®å†…å®¹

### **CoinMarketCap æä¾›ï¼š**
1. **ä»·æ ¼æ•°æ®** - å®æ—¶ä»·æ ¼
2. **äº¤æ˜“é‡** - 24h äº¤æ˜“é‡å’Œå˜åŒ–
3. **å¸‚å€¼æ•°æ®** - å¸‚å€¼ã€å¸‚å€¼æ’åã€å¸‚å€¼å æ¯”
4. **ä¾›åº”é‡** - æµé€šé‡ã€æ€»ä¾›åº”é‡ã€æœ€å¤§ä¾›åº”é‡
5. **ä»·æ ¼å˜åŒ–** - 1hã€24hã€7d æ¶¨è·Œå¹…

### **The Graph æä¾›ï¼š**
1. **Uniswap V3**
   - Top 5 æµåŠ¨æ€§æ± 
   - TVLï¼ˆæ€»é”ä»“ä»·å€¼ï¼‰
   - äº¤æ˜“é‡
   - æ‰‹ç»­è´¹ç­‰çº§

2. **Aave V3**
   - Top 5 å‚¨å¤‡èµ„äº§
   - æ€»æµåŠ¨æ€§
   - å¯ç”¨æµåŠ¨æ€§
   - å€Ÿè´·åˆ©ç‡

---

## ğŸ”‘ é…ç½®æ­¥éª¤

### **æ­¥éª¤ 1ï¼šç”³è¯· CoinMarketCap API Key**

1. è®¿é—®ï¼šhttps://coinmarketcap.com/api/
2. ç‚¹å‡» "Get Your Free API Key Now"
3. æ³¨å†Œè´¦å·ï¼ˆå…è´¹ï¼‰
4. è·å– API Key
5. å…è´¹é¢åº¦ï¼š**æ¯æœˆ 10,000 æ¬¡è°ƒç”¨**

### **æ­¥éª¤ 2ï¼šé…ç½® .env æ–‡ä»¶**

æ‰“å¼€ `.env` æ–‡ä»¶ï¼Œæ‰¾åˆ°ä»¥ä¸‹éƒ¨åˆ†å¹¶å¡«å…¥æ‚¨çš„ API Keyï¼š

```env
# CoinMarketCap APIï¼ˆå¸‚å€¼æ’åã€ç¤¾äº¤åª’ä½“æŒ‡æ ‡ï¼‰
# ç”³è¯·åœ°å€ï¼šhttps://coinmarketcap.com/api/
COINMARKETCAP_API_KEY=ä½ çš„CMC_API_Key
COINMARKETCAP_BASE_URL=https://pro-api.coinmarketcap.com/v1
```

### **æ­¥éª¤ 3ï¼šThe Graph é…ç½®ï¼ˆæ— éœ€ API Keyï¼‰**

The Graph æ˜¯**å®Œå…¨å…è´¹**çš„ï¼Œæ— éœ€ç”³è¯· API Keyï¼

å·²é¢„é…ç½®çš„å­å›¾ï¼š
```env
# The Graph APIï¼ˆDeFi åè®®æ•°æ®ï¼‰
# å…è´¹ä½¿ç”¨ï¼Œæ— éœ€ API Key
THEGRAPH_API_KEY=
# Uniswap V3 å­å›¾
THEGRAPH_UNISWAP_V3=https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3
# Aave V3 å­å›¾
THEGRAPH_AAVE_V3=https://api.thegraph.com/subgraphs/name/aave/protocol-v3
# Compound V3 å­å›¾
THEGRAPH_COMPOUND_V3=https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v3
```

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### **1. å¯åŠ¨åº”ç”¨**
```bash
streamlit run app.py
```

### **2. æ›´æ–°æƒ…æŠ¥**
1. æ‰“å¼€åº”ç”¨
2. åˆ‡æ¢åˆ° **"ğŸ§­ æƒ…æŠ¥çœ‹æ¿"** æ ‡ç­¾é¡µ
3. ç‚¹å‡» **"ğŸ“¥ æ›´æ–°ä»Šæ—¥æƒ…æŠ¥"** æŒ‰é’®
4. ç­‰å¾… 15-40 ç§’ï¼ˆæ–°å¢äº†æ›´å¤šæ•°æ®æºï¼‰

### **3. æŸ¥çœ‹æ•°æ®**

#### **æ–¹å¼ Aï¼šæŸ¥çœ‹æƒ…æŠ¥å¡ç‰‡**
- åœ¨æƒ…æŠ¥çœ‹æ¿ä¸»ç•Œé¢
- AI ä¼šè‡ªåŠ¨åˆ†ææ‰€æœ‰æ•°æ®æº
- ç”Ÿæˆæƒ…æŠ¥å¡ç‰‡

#### **æ–¹å¼ Bï¼šæŸ¥çœ‹åŸå§‹æ•°æ®**
1. æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨
2. å±•å¼€ **"æŸ¥çœ‹åŸå§‹æ•°æ®ä¸æœç´¢ç»“æœ"**
3. å¯ä»¥çœ‹åˆ°ï¼š
   - ğŸ“Š CoinMarketCap æ•°æ®ï¼ˆå¸‚å€¼ã€äº¤æ˜“é‡ã€æ’åï¼‰
   - ğŸ”— The Graph æ•°æ®ï¼ˆUniswap æ± å­ã€Aave å‚¨å¤‡ï¼‰
   - ğŸ¦ DeFiLlama æ•°æ®ï¼ˆå„é“¾ TVLï¼‰
   - å…¶ä»–æ•°æ®æº

---

## ğŸ“ˆ æ•°æ®å¯¹æ¯”

### **ä¹‹å‰çš„æ•°æ®æºï¼š**
- CoinGecko - ä»·æ ¼æ•°æ®
- Etherscan - Gas æ•°æ®
- DeFiLlama - TVL æ•°æ®
- MCP æœç´¢ - æ–°é—»æ•°æ®

### **ç°åœ¨çš„æ•°æ®æºï¼š**
- CoinGecko - ä»·æ ¼æ•°æ®
- **CoinMarketCap - å¸‚å€¼æ’åã€äº¤æ˜“é‡ã€ç¤¾äº¤æŒ‡æ ‡** â­ æ–°å¢
- Etherscan - Gas æ•°æ®
- DeFiLlama - TVL æ•°æ®
- **The Graph - DeFi åè®®è¯¦ç»†æ•°æ®** â­ æ–°å¢
  - Uniswap V3 æµåŠ¨æ€§æ± 
  - Aave V3 å€Ÿè´·æ•°æ®
- MCP æœç´¢ - æ–°é—»æ•°æ®

**ä¿¡æ¯å¯†åº¦å†æ¬¡æå‡ï¼š+150%**

---

## ğŸ’¡ æ•°æ®ä½¿ç”¨åœºæ™¯

### **CoinMarketCap æ•°æ®é€‚åˆï¼š**
1. **å¸‚å€¼åˆ†æ** - äº†è§£å¸ç§åœ¨å¸‚åœºä¸­çš„åœ°ä½
2. **äº¤æ˜“é‡åˆ†æ** - åˆ¤æ–­å¸‚åœºæ´»è·ƒåº¦
3. **ä¾›åº”é‡åˆ†æ** - è¯„ä¼°é€šèƒ€/é€šç¼©æƒ…å†µ
4. **æ’åè¿½è¸ª** - ç›‘æ§å¸ç§æ’åå˜åŒ–

### **The Graph æ•°æ®é€‚åˆï¼š**
1. **æµåŠ¨æ€§åˆ†æ** - äº†è§£ DEX æµåŠ¨æ€§åˆ†å¸ƒ
2. **å€Ÿè´·å¸‚åœºåˆ†æ** - ç›‘æ§ Aave å€Ÿè´·æƒ…å†µ
3. **DeFi åè®®å¯¹æ¯”** - æ¯”è¾ƒä¸åŒåè®®çš„è¡¨ç°
4. **å¥—åˆ©æœºä¼šå‘ç°** - å‘ç°ä»·æ ¼å·®å¼‚

---

## ğŸ”§ æ•…éšœæ’é™¤

### **é—®é¢˜ 1ï¼šCoinMarketCap æ˜¾ç¤º "æœªé…ç½® API Key"**
**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ `COINMARKETCAP_API_KEY`
2. ç¡®ä¿ä¸æ˜¯ `your-cmc-api-key-here`
3. ç¡®ä¿ API Key æœ‰æ•ˆï¼ˆç™»å½• CMC åå°æŸ¥çœ‹ï¼‰
4. é‡å¯åº”ç”¨

### **é—®é¢˜ 2ï¼šThe Graph æ•°æ®ä¸ºç©º**
**è§£å†³æ–¹æ¡ˆï¼š**
1. The Graph æ˜¯å…è´¹çš„ï¼Œæ— éœ€ API Key
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. å­å›¾ URL å¯èƒ½å·²æ›´æ–°ï¼Œè®¿é—® https://thegraph.com/explorer æŸ¥æ‰¾æœ€æ–° URL
4. å¦‚æœæŸä¸ªå­å›¾å¤±è´¥ï¼Œä¸å½±å“å…¶ä»–æ•°æ®æº

### **é—®é¢˜ 3ï¼šæ•°æ®è·å–æ—¶é—´è¿‡é•¿**
**åŸå› ï¼š** ç°åœ¨æœ‰ 7 ä¸ªæ•°æ®æºï¼ˆCoinGecko, CMC, Etherscan, DeFiLlama, The Graph, MCP, NewsDataï¼‰

**è§£å†³æ–¹æ¡ˆï¼š**
- è¿™æ˜¯æ­£å¸¸çš„ï¼Œé¢„è®¡ 15-40 ç§’
- æœªæ¥ä¼šæ·»åŠ ç¼“å­˜æœºåˆ¶
- å¯ä»¥åœ¨ä¾§è¾¹æ å…³é—­ä¸éœ€è¦çš„æ•°æ®æº

### **é—®é¢˜ 4ï¼šCMC API é¢åº¦ç”¨å®Œ**
**å…è´¹é¢åº¦ï¼š** æ¯æœˆ 10,000 æ¬¡è°ƒç”¨

**è§£å†³æ–¹æ¡ˆï¼š**
1. å‡å°‘æ›´æ–°é¢‘ç‡
2. æ·»åŠ ç¼“å­˜ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰
3. å‡çº§åˆ°ä»˜è´¹è®¡åˆ’ï¼ˆå¦‚æœéœ€è¦ï¼‰

---

## ğŸ“Š API é¢åº¦ç®¡ç†

### **å…è´¹é¢åº¦æ±‡æ€»ï¼š**
| æ•°æ®æº | å…è´¹é¢åº¦ | å½“å‰ä½¿ç”¨ |
|--------|---------|---------|
| CoinGecko | 10-50 æ¬¡/åˆ†é’Ÿ | æ¯æ¬¡æ›´æ–° 1 æ¬¡ |
| CoinMarketCap | 10,000 æ¬¡/æœˆ | æ¯æ¬¡æ›´æ–° 1 æ¬¡ |
| Etherscan | 5 æ¬¡/ç§’ | æ¯æ¬¡æ›´æ–° 2 æ¬¡ |
| DeFiLlama | æ— é™åˆ¶ | æ¯æ¬¡æ›´æ–° 2 æ¬¡ |
| The Graph | æ— é™åˆ¶ | æ¯æ¬¡æ›´æ–° 2 æ¬¡ |
| Tavily MCP | 1,000 æ¬¡/æœˆ | æ¯æ¬¡æ›´æ–° 1 æ¬¡ |
| NewsData.io | 200 æ¬¡/å¤© | æ¯æ¬¡æ›´æ–° 1 æ¬¡ |

### **å»ºè®®ï¼š**
- æ¯å¤©æ›´æ–° **3-5 æ¬¡** å³å¯
- é¿å…é¢‘ç¹åˆ·æ–°
- æœªæ¥ä¼šæ·»åŠ è‡ªåŠ¨ç¼“å­˜

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### **çŸ­æœŸï¼ˆæœ¬å‘¨ï¼‰ï¼š**
1. âœ… å·²å®Œæˆï¼šCoinMarketCap é›†æˆ
2. âœ… å·²å®Œæˆï¼šThe Graph é›†æˆ
3. ğŸ”„ å¾…åšï¼šå°†æ–°æ•°æ®é›†æˆåˆ°æƒ…æŠ¥å¡ç‰‡ç”Ÿæˆ
4. ğŸ”„ å¾…åšï¼šæ·»åŠ æ•°æ®ç¼“å­˜æœºåˆ¶

### **ä¸­æœŸï¼ˆä¸‹å‘¨ï¼‰ï¼š**
1. æ·»åŠ æ›´å¤š The Graph å­å›¾ï¼ˆCompound, Curveï¼‰
2. æ·»åŠ ç¤¾äº¤åª’ä½“æƒ…ç»ªåˆ†æ
3. æ·»åŠ é“¾ä¸Šå¤§æˆ·è¿½è¸ª
4. ä¼˜åŒ–æ•°æ®å±•ç¤ºï¼ˆæ·»åŠ å›¾è¡¨ï¼‰

### **é•¿æœŸï¼ˆä¸€ä¸ªæœˆï¼‰ï¼š**
1. æ·»åŠ è‡ªå®šä¹‰å­å›¾æŸ¥è¯¢
2. æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½
3. æ·»åŠ å†å²æ•°æ®å¯¹æ¯”
4. æ·»åŠ è‡ªåŠ¨æŠ¥å‘Šç”Ÿæˆ

---

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### **CoinMarketCap API è°ƒç”¨ç¤ºä¾‹ï¼š**
```python
def fetch_coinmarketcap_data(symbols: list[str]) -> dict:
    url = "https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest"
    headers = {"X-CMC_PRO_API_KEY": api_key}
    params = {"symbol": "BTC,ETH,SOL", "convert": "USD"}
    resp = requests.get(url, params=params, headers=headers)
    return resp.json()
```

### **The Graph GraphQL æŸ¥è¯¢ç¤ºä¾‹ï¼š**
```graphql
{
  pools(first: 5, orderBy: totalValueLockedUSD, orderDirection: desc) {
    id
    token0 { symbol }
    token1 { symbol }
    totalValueLockedUSD
    volumeUSD
  }
}
```

---

## ğŸŠ æ€»ç»“

é€šè¿‡æœ¬æ¬¡å‡çº§ï¼š
1. âœ… æ¥å…¥äº† CoinMarketCapï¼ˆå¸‚å€¼æ’åã€äº¤æ˜“é‡ï¼‰
2. âœ… æ¥å…¥äº† The Graphï¼ˆDeFi åè®®æ•°æ®ï¼‰
3. âœ… ä¿¡æ¯å¯†åº¦å†æ¬¡æå‡ 150%
4. âœ… ç°åœ¨æœ‰ **7 ä¸ªæ•°æ®æº** åŒæ—¶å·¥ä½œ

**æ‚¨çš„æƒ…æŠ¥çœ‹æ¿ç°åœ¨æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„åŠ å¯†è´§å¸æƒ…æŠ¥ä¸­å¿ƒï¼** ğŸš€

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥ `.env` é…ç½®
2. æŸ¥çœ‹åº”ç”¨ä¸­çš„é”™è¯¯æç¤º
3. å±•å¼€ "æŸ¥çœ‹åŸå§‹æ•°æ®" æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
4. å‚è€ƒæœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
