# 数据源增强方案

## 当前已有的数据源
✅ CoinGecko - 加密货币价格
✅ Etherscan - 以太坊链上数据
✅ Alpha Vantage - 传统金融数据
✅ Tavily MCP - 实时搜索
✅ NewsData.io - 新闻数据

## 建议新增的数据源

### 1. DeFiLlama API（免费，无需 Key）
**功能：** TVL、协议数据、链上活跃度
**接入难度：** ⭐⭐
**信息价值：** ⭐⭐⭐⭐⭐

```python
# 示例代码
def fetch_defillama_data():
    # TVL 数据
    tvl_url = "https://api.llama.fi/v2/chains"
    # 协议排名
    protocols_url = "https://api.llama.fi/protocols"
    # 收益率
    yields_url = "https://yields.llama.fi/pools"
```

### 2. CoinMarketCap API（免费额度）
**功能：** 市值排名、交易量、社交媒体指标
**接入难度：** ⭐⭐
**信息价值：** ⭐⭐⭐⭐

### 3. Glassnode API（付费，但有免费指标）
**功能：** 链上指标、持仓分布、交易所流入流出
**接入难度：** ⭐⭐⭐
**信息价值：** ⭐⭐⭐⭐⭐

### 4. The Graph（免费）
**功能：** 子图查询、DeFi 协议数据
**接入难度：** ⭐⭐⭐⭐
**信息价值：** ⭐⭐⭐⭐

### 5. Dune Analytics API（免费额度）
**功能：** 自定义链上数据查询
**接入难度：** ⭐⭐⭐
**信息价值：** ⭐⭐⭐⭐⭐

## 优先级推荐

### 立即可做（今天）
1. ✅ 启用 MCP 搜索（已配置 Tavily Key）
2. ✅ 增加币种到 BTC,ETH,SOL,BNB,AVAX
3. ✅ 启用 NewsData.io（已有 Key）

### 本周可做
1. 接入 DeFiLlama（免费，无需 Key）
2. 优化现有数据展示（添加图表）
3. 添加数据缓存（减少 API 调用）

### 下周可做
1. 接入 CoinMarketCap（申请免费 Key）
2. 添加链上大户追踪
3. 添加 Gas 价格预测

## 关于 "Skills Marketplace"

如果您提到的是 **SpoonOS Skills Marketplace**，这是一个 AI Agent 技能市场，可以：
- 接入预构建的 MCP 工具
- 使用社区开发的数据源
- 快速集成新功能

**建议：**
1. 访问 SpoonOS 文档查看可用技能
2. 选择与加密货币相关的技能包
3. 通过 MCP 协议集成到现有系统

## 实施建议

### 短期（提高信息密度）
```python
# 1. 添加 DeFiLlama TVL 数据
def fetch_defi_tvl():
    url = "https://api.llama.fi/v2/chains"
    resp = requests.get(url, timeout=10)
    return resp.json()

# 2. 添加交易所流入流出（Glassnode 免费指标）
def fetch_exchange_flows():
    # 使用免费的 Glassnode 指标
    pass

# 3. 增强 MCP 搜索查询
def build_enhanced_search_query(symbols):
    # 添加更多关键词
    keywords = ["price", "news", "TVL", "whale", "exchange flow"]
    return f"crypto {' '.join(symbols)} {' '.join(keywords)}"
```

### 中期（优化展示）
- 添加价格走势图（使用 Plotly）
- 添加 TVL 排名卡片
- 添加链上活跃度指标
- 添加社交媒体情绪分析

### 长期（深度集成）
- 接入 The Graph 子图
- 添加智能合约事件监听
- 添加链上大户地址追踪
- 添加 MEV 机会监控
